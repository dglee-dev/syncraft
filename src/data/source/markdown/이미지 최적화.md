---
title: 이미지 최적화
category: tech
---


# 이미지 최적화

Q. 확인해보니 이미지를 import해서 번들링 하더라도 브라우저에서는 이후에 추가적인 요청을 보내더라고. 그럼 이미지를 컴포넌트에서 import해 사용하는거랑, public 폴더를 사용하는거랑 퍼포먼스 측면에서는 똑같은거 아니야? path를 어떻게 가져오냐의 차이인 것 같은데.

A. You are correct. When it comes to the performance aspect, using `import` for images in your components in Create React App does not provide any direct advantages over using the `public` folder for images. In fact, it may introduce additional network requests during page load.

The main benefits of using `import` for images in your components are not related to performance but rather development convenience and code organization:

1. **Code Organization:** By importing images in your components, you keep the code for the component and its associated assets (including images) in the same location. This can make it easier to understand and manage the component codebase.

2. **Module System:** Using `import` for images is a standard part of ES6 modules and the JavaScript module system. It allows for a more modern and modular code structure, making it easier to organize and maintain the code.

3. **Optimization Capabilities:** Although `import` doesn't provide direct performance benefits, modern build tools (like Webpack) can still optimize the images during the build process, reducing their size and improving loading times.

However, it's important to note that for performance optimization related to images, there are other techniques that you should consider, such as:

- **Image Compression:** Optimize images for the web by compressing them without losing visual quality. Tools like ImageMagick, TinyPNG, or WebP formats can be used to reduce image sizes.

- **Lazy Loading:** Use lazy loading techniques to defer the loading of images until they are about to come into the viewport. This can improve initial page load times by prioritizing critical content.

- **Responsive Images:** Implement responsive images using the `<picture>` element or CSS media queries to serve different image sizes based on the user's device and screen size.

- **CDN Usage:** Host your images on a Content Delivery Network (CDN) to ensure they are delivered quickly to users from servers close to their location.

- **Image Formats:** Use modern image formats like WebP, which can provide better compression and smaller file sizes compared to older formats like JPEG and PNG.

In conclusion, while using `import` for images in your components offers organizational benefits and aligns with modern JavaScript practices, it doesn't directly impact performance. To optimize image performance, you should focus on other techniques and best practices related to image compression, lazy loading, and responsive images.


그래서 시도해보기로 했다.

### 1. 이미지 포맷 바꾸기

![](https://velog.velcdn.com/images/nninnnin7/post/7d1a6478-c54f-4098-b60c-781493cfc763/image.png)

라이트하우스에서 추천한 방법이다. gif를 mp4나 webm 확장자로 변경시킨 후 HTML5의 `<video>` 태그를 사용해 gif처럼 재생한다.

직접 변환해보니 20MB 정도의 파일을 mp4로 변환했을 때에는 18MB, webm으로 변환했을 때에는 2.8MB(!) 정도로 용량이 줄어들었다.

다만 매번 이렇게 직접 변환해주어야 하는 걸까?

https://developer.chrome.com/docs/lighthouse/performance/efficient-animated-content/?utm_source=lighthouse&utm_medium=devtools

### 2. CDN 사용하기

알아보아야 할 포인트는, 그냥 이미지들을 S3에 넣어두고 CDN을 연결하는 것과 '이미지 CDN' 의 차이는 무엇인가, 이다.

https://web.dev/image-cdns/#%EC%9D%B4%EB%AF%B8%EC%A7%80-cdn%EC%9D%B4%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9E%85%EB%8B%88%EA%B9%8C

### 3. Lazy Loding

### 4. Webpack Plugin 사용하기

번들링 할 때의 장점을 살려 이미지 최적화의 자동화를 위해 웹팩 플러그인을 사용해보는 것이 좋지 않을까 라는 생각이 들었다. 1번에서 진행했던 gif의 변환도 가능할까?

https://webpack.js.org/plugins/image-minimizer-webpack-plugin/