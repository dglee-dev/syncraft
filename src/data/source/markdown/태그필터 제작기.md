---
title: 태그필터 제작기
category: tech
---


# 태그필터 제작기

## 포스트 분류의 필요성

블로그에 여러가지 관심사의 글을 쓰게되면서 글의 순서가 이런저런 관심사끼리 뒤죽박죽 섞이다보니 필터링에 대한 필요성을 느끼게 되었고, 태그를 생성해 비슷한 주제의 글을 묶어 보여줄 수 있으면 좋겠다는 생각이 들었다.

먼저는 글마다 태그를 편하게 등록할 수 있는 UI를 만들었다.

<video src="https://justin-cms-images.s3.ap-northeast-2.amazonaws.com/%E1%84%90%E1%85%A2%E1%84%80%E1%85%B3%E1%84%83%E1%85%B3%E1%86%BC%E1%84%85%E1%85%A9%E1%86%A8.mp4" autoplay="true" loop></video>

태그는 주제를 분류할 뿐 아니라 각 포스트에 대한 키워드의 개념으로도 사용될 수 있겠다는 생각으로 포스트 제목 아래에 노출시켜 포스트의 내용을 짐작할 수 있도록 만들었다.

## 태그로 필터링하기

### UI 기획

원래는 드롭다운 형태를 떠올렸다. 문제는 위치할 공간이 마땅치 않았다는 것. 포스트 리스트 위쪽에 새로운 한줄의 여백을 만들어 왼쪽이나 오른쪽 끝에 덩그러니 위치할 모습을 상상하니 너무 허전해보일 것 같았다.

그래서 태그를 가로로 쭉 나열하고 스크롤링 할 수 있는 형태를 떠올렸다. 마치 캐로우셀과 같은 형태이다.

<img src="https://justin-cms-images.s3.ap-northeast-2.amazonaws.com/%E1%84%90%E1%85%A2%E1%84%80%E1%85%B3%E1%84%91%E1%85%B5%E1%86%AF%E1%84%90%E1%85%A5.png" />

그리고는 좌우 스크롤에 대한 생각을 했다. 나는 매직마우스를 사용하기에 좌우 스크롤에 대한 접근성이 높은 환경이지만, 많은 일반적인 마우스를 사용하는 상황에서 좌우 스크롤링은 꽤나 번거로운 일이다. 따라서 마치 캐로우셀처럼 버튼을 눌러 네비게이션 할 수 있도록 만들기로 했다.

### UI 만들기

먼저 비슷한 작동방식을 갖는 캐로우셀에 대해 생각해보면, 왼쪽/오른쪽 네비게이션 버튼을 눌렀을 때 한장의 이미지를 넘겨주며 유저가 사진을 순차적으로 네비게이션 할 수 있도록 한다.

반면 해당 UI(`태그 필터 리스트`라고 하자)는 한번에 여러개의 리스트 아이템을 보여주어야 한다. 따라서 그저 다음/이전 사진을 보여주면 되는 캐로우셀에 비해 기록 및 변경되어야 할 정보들이 존재한다.

- 한번에 몇개의 리스트 아이템을 보여주고 있는가? ...(1)
- (그에 기반해) 이전/다음에 보여주어야 하는 리스트 아이템은 어디에서부터 시작하는가? ...(2)

(1) 은 `Math.floor(리스트 컨테이너의 너비 / (리스트 아이템의 너비 + x축 마진))`로 계산할 수 있다. 리스트 컨테이너를 `윈도우(Window)` 라고 부르기로 하자.\
(2) 의 위치를`커서(Cursor)`라고 부르기로 하고, 먼저 아래 그림을 살펴보자.

![태그필터-시나리오1-다음으로](https://justin-cms-images.s3.ap-northeast-2.amazonaws.com/%E1%84%90%E1%85%A2%E1%84%80%E1%85%B3%E1%84%91%E1%85%B5%E1%86%AF%E1%84%90%E1%85%A5-%E1%84%89%E1%85%B5%E1%84%82%E1%85%A1%E1%84%85%E1%85%B5%E1%84%8B%E1%85%A91.png)

![태그필터-시나리오2-다음으로-끝](https://justin-cms-images.s3.ap-northeast-2.amazonaws.com/%E1%84%90%E1%85%A2%E1%84%80%E1%85%B3%E1%84%91%E1%85%B5%E1%86%AF%E1%84%90%E1%85%A5-%E1%84%89%E1%85%B5%E1%84%82%E1%85%A1%E1%84%85%E1%85%B5%E1%84%8B%E1%85%A92.png)

![태그필터-시나리오3-이전으로](https://justin-cms-images.s3.ap-northeast-2.amazonaws.com/%E1%84%90%E1%85%A2%E1%84%80%E1%85%B3%E1%84%91%E1%85%B5%E1%86%AF%E1%84%90%E1%85%A5-%E1%84%89%E1%85%B5%E1%84%82%E1%85%A1%E1%84%85%E1%85%B5%E1%84%8B%E1%85%A93.png)