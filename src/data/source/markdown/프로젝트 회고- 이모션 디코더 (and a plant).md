---
title: 프로젝트 회고: 이모션 디코더 (and a plant)
category: tech
---


# 프로젝트 회고: 이모션 디코더 (and a plant)

<iframe src="https://decoding-my-emotion.com/emo-scanner/positive" width="30" height="20" preventInteraction></iframe>

벌써 한달이나 지난, 레벨나인에 들어와서 3번째로 맡게된 프로젝트..  
앤어플랜트의 요청으로 만들게 된 이모션 디코더이다.

이모션 스캐너(긍정/부정)과 이모션 파노라마 3가지 기능이 존재하고, 작업기간은 꽉 채운 2주를 사용했다.  
이모션 파노라마의 컨텐츠 개발은 경훈님이 도와주셨고 제외한 모든 부분은 내가 작업했다.

만들면서 배운 점들을 몇가지 정리해보려고 한다.


### 1. wheel과 scroll 이벤트는 다르다, 그리고 모바일을 위한 onTouchMove가 있다.

말 그대로이다. 원하는 페이지 트랜지션을 구현하기 위해 먼저 기본 스크롤 동작을 막아야 했는데, onScroll 핸들러에 `e.preventDefault()` 를 실행해서는 스크롤을 방어할 수 없다는 사실을 알게됐다.

그리고 또한 모바일에서는 휠 이벤트가 일어나지 않기 때문에, 대신 `onTouchMove` 를 이용해 모바일 스크롤링을 방어해야 한다. onTouch~ 시리즈가 있다는 것을 처음 알았다.

### 2. throttle과 debounce를 적절히 이용하면 극적인 연출이 가능하다

기본 스크롤을 방어했다면 하위의 엘리먼트에서 onWheelCapture를 이용해 휠 이벤트에 대해 원하는 트랜지션을 대응시킬 수 있다. 휠 이벤트는 매우 높은 빈도로 발생하므로 throttle/debounce 를 적절히 사용해 적당한 이벤트 타이밍을 골라낼 수 있어야한다.

leading/trailing 옵션을 비롯한 wait 값들을 조정해보면서 이 정도면 이런 느낌을 낼 수 있구나 라는 감각이 어느정도 생긴 것 같다. 감각을 기르기에 앞서, 각각의 옵션과 두 메서드의 작동방식에 대한 정확한 이해가 바탕될수록 좋은 감이 발달할 수 있는 가능성이 생긴다. (어떤 옵션이 정확히 어떤 역할을 하는지 알지못하면 값을 조정해봐야 때려맞추는 것에 가까운 묘기가 된다)

### 3. Next.js에서의 Proxy 구현

`next.config.js` 파일에서  rewrites라는 항목으로 아주 간단하게 프록시를 사용할 수 있다는 것을 알았다.
대박!

### 4. '일단 되니까 넘어가자' 금지

제대로 파악하고 하지 않으면 나중에 어디를 어떻게 고쳐야 내가 원하는대로 만들어낼 수 있는지 깜깜해진다.  
이번 프로젝트에서도 페이지 트랜지션을 구현하면서 '이러니까 되네?' 하고 넘어간 부분이 있었는데 나중에 원하는 수정사항을 반영하려니 어떤 구조로 작동하는지 감으로 때려맞혀야해서 이대로는 안되겠다 싶어 제대로 리팩토링한 후에 다시 작업을 진행했다.

- 마음이 급해질 때는 작업을 빨리하려고 하기 보다는 마음이 급해지는 원인을 먼저 파악해보자.

### 5. 일정과 우선순위

제한된 시간 안에 모든걸 다 할수는 없다. 필수적으로 작동되어야 하는 기능을 먼저 파악하고 큰 구성과 레이아웃, 기능들이 제대로 작동하게끔 만드는 것이 더 우선시 되어야 한다. 눈에 보이는 것들부터 해서는 안된다.

- 특히 반응형 개발은 디자인하면서 완벽히 계산되어있기 어렵기 때문에(주로 고정된 크기로 디자인을 하게되므로) 생각보다 개발자가 직접 고려하면서 수치를 조절하게 되는 경우가 많아져서 시간/노력이 보기보다 많이 들게된다. 디자이너에게 미리 어떤 비율을 더 우선적으로 고려할 것인지 (수직/수평) 선택하도록 충분한 대화를 우선하면 더 마음편하게(?) 작업하게 될지도.